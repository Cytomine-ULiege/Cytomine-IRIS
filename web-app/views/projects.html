<div class="panel-body" ng-controller="projectCtrl">

    <div class="alert alert-danger" ng-show="project.error.retrieve">
        Error. Cannot get project list. {{project.error.retrieve.message}} ({{project.error.retrieve.status}}).
    </div>

    <div ng-show="loading" ng-hide="project.error.retrieve"><img class="img-responsive center-block" src="images/ajax-loader.gif"/></div>
	
	<div ng-hide="loading">
		<p>You have access to {{project.projects.length}} projects. 
		<a href ng-click="printProjectID()">Print current Project ID</a></p>
		
	    <table ng-table="tableParams"  show-filter="true" class="table table-striped table-bordered">
	        <tr ng-repeat="item in data">
	            <td data-title="'ID'" sortable="'id'">{{item.id}}</td>
	            <td data-title="'Name'" sortable="'name'" filter="{ 'name': 'text' }">{{item.name}}</td>
	            <td data-title="'Created'" sortable="'created'">{{item.created | longToDate | dateToFuzzyTime}}&nbsp;&nbsp;
	            	<div ng-show="({{today}} - {{item.created}}) <= {{project.stillNew}}" class="label label-success">New!</div>
	            </td>
	            <td data-title="'# Images'" sortable="'numberOfImages'" class="text-center">{{item.numberOfImages}}</td>
	            <td data-title="'Mode'" sortable="'blindMode'" class="text-center">
	            <div ng-switch="{{item.blindMode}}">
	              	<div ng-switch-when="true"><span class="label label-danger" tooltip-placement="top" tooltip="This project is in blind mode, you will not see the image names.">Blind Mode</span></div>
	            	<div ng-switch-default><span class="label label-info" tooltip="A regular project, where you can see all information.">Regular</span></div>	
				</div>
	            </td>
	            <td data-title="'Action'" class="text-center">
	                <div ng-switch="{{item.isClosed}}">
	                	<div ng-switch-when="false">
	                	 	<a class="btn btn-xs btn-primary" ng-click="setProjectID(item.id)" href="#/project/{{item.id}}/images">Open</a>
	                	</div>
	                	<div ng-switch-default>
	                		<a class="btn btn-xs btn-primary" disabled="disabled" href>Open</a>
	            		</div>
	            	</div>
	            </td>
	        </tr>
	        <!--</tbody>-->
	    </table>
    </div>
</div>